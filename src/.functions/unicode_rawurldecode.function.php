<?php

if (!function_exists('unicode_rawurldecode')) {
// URL Encode to Unicode Ar
function unicode_rawurldecode($string) {
        static $unicode_map = array(
                '/%C3%B4/' => '&#244;',
                '/%C3%80/' => '&#192;',
                '/%C3%81/' => '&#193;',
                '/%C3%82/' => '&#194;',
                '/%C3%83/' => '&#195;',
                '/%C3%84/' => '&#196;',
                '/%C3%85/' => '&#197;',
                '/%C3%86/' => '&#198;',
                '/%C3%87/' => '&#199;',
                '/%C3%88/' => '&#200;',
                '/%C3%89/' => '&#201;',
                '/%C3%8A/' => '&#202;',
                '/%C3%8B/' => '&#203;',
                '/%C3%8C/' => '&#204;',
                '/%C3%8D/' => '&#205;',
                '/%C3%8E/' => '&#206;',
                '/%C3%8F/' => '&#207;',
                '/%C3%90/' => '&#208;',
                '/%C3%91/' => '&#209;',
                '/%C3%92/' => '&#210;',
                '/%C3%93/' => '&#211;',
                '/%C3%94/' => '&#212;',
                '/%C3%95/' => '&#213;',
                '/%C3%96/' => '&#214;',
                '/%C3%98/' => '&#216;',
                '/%C3%99/' => '&#217;',
                '/%C3%9A/' => '&#218;',
                '/%C3%9B/' => '&#219;',
                '/%C3%9C/' => '&#220;',
                '/%C3%9D/' => '&#221;',
                '/%C3%9E/' => '&#222;',
                '/%C3%9F/' => '&#223;',
                '/%C3%A0/' => '&#224;',
                '/%C3%A1/' => '&#225;',
                '/%C3%A2/' => '&#226;',
                '/%C3%A3/' => '&#227;',
                '/%C3%A4/' => '&#228;',
                '/%C3%A5/' => '&#229;',
                '/%C3%A6/' => '&#230;',
                '/%C3%A7/' => '&#231;',
                '/%C3%A8/' => '&#232;',
                '/%C3%A9/' => '&#233;',
                '/%C3%AA/' => '&#234;',
                '/%C3%AB/' => '&#235;',
                '/%C3%AC/' => '&#236;',
                '/%C3%AD/' => '&#237;',
                '/%C3%AE/' => '&#238;',
                '/%C3%AF/' => '&#239;',
                '/%C3%B0/' => '&#240;',
                '/%C3%B1/' => '&#241;',
                '/%C3%B2/' => '&#242;',
                '/%C3%B3/' => '&#243;',
                '/%C3%B4/' => '&#244;',
                '/%C3%B5/' => '&#245;',
                '/%C3%B6/' => '&#246;',
                '/%C3%B8/' => '&#248;',
                '/%C3%B9/' => '&#249;',
                '/%C3%BA/' => '&#250;',
                '/%C3%BB/' => '&#251;',
                '/%C3%BC/' => '&#252;',
                '/%C3%BD/' => '&#253;',
                '/%C3%BE/' => '&#254;',
                '/%C3%BF/' => '&#255;',
                '/%C5%92/' => '&#338;',
                '/%C5%93/' => '&#339;',
                '/%C5%A0/' => '&#352;',
                '/%C5%A1/' => '&#353;',
                '/%C5%B8/' => '&#376;',
                '/%C6%92/' => '&#402;',
        );
        static $unicode_keys = null;

        if(empty($unicode_keys)) {
                $unicode_keys = array_keys($unicode_map);
        }
        return rawurldecode(preg_replace($unicode_keys, $unicode_map, $string));
}
}
